# Differences

This document is synchronized with [feature_matrix.md](feature_matrix.md) and lists options where oc-rsync has not yet reached full parity with upstream rsync.

- Default metadata preservation settings (permissions, ownership, devices, and special files) now mirror upstream `rsync` defaults; no deviations are known.

- `--blocking-io`: parity with upstream not yet verified. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--config`: parity with upstream not yet verified. Tests: [tests/daemon_config.rs](../tests/daemon_config.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--copy-as`: parity with upstream not yet verified; requires root or CAP_CHOWN. Tests: [tests/copy_as.rs](../tests/copy_as.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--copy-links`: parity with upstream not yet verified. Tests: [tests/symlink_resolution.rs](../tests/symlink_resolution.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--copy-unsafe-links`: parity with upstream not yet verified. Tests: [tests/symlink_resolution.rs](../tests/symlink_resolution.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--dry-run`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--early-input`: parity with upstream not yet verified. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--fake-super`: parity with upstream not yet verified; requires `xattr` feature. Tests: [tests/fake_super.rs](../tests/fake_super.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--fsync`: parity with upstream not yet verified. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--fuzzy`: parity with upstream not yet verified. Tests: [tests/fuzzy.rs](../tests/fuzzy.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--groupmap`: parity with upstream not yet verified; requires root or CAP_CHOWN. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--help`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--ignore-errors`: parity with upstream not yet verified. Tests: [tests/delete_policy.rs](../tests/delete_policy.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--ignore-missing-args`: parity with upstream not yet verified. Tests: [tests/ignore_missing_args.rs](../tests/ignore_missing_args.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--ignore-times`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--info`: parity with upstream not yet verified. Tests: [crates/logging/tests/info_flags.rs](../crates/logging/tests/info_flags.rs)<br>[crates/cli/tests/logging_flags.rs](../crates/cli/tests/logging_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--log-file`: parity with upstream not yet verified; limited format support. Tests: [tests/log_file.rs](../tests/log_file.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--log-file-format`: parity with upstream not yet verified; limited format support. Tests: [tests/log_file.rs](../tests/log_file.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--max-size`: parity with upstream not yet verified. Tests: [tests/perf_limits.rs](../tests/perf_limits.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--min-size`: parity with upstream not yet verified. Tests: [tests/perf_limits.rs](../tests/perf_limits.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--modify-window`: parity with upstream not yet verified; treat close mtimes as equal. Tests: [tests/modify_window.rs](../tests/modify_window.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--munge-links`: parity with upstream not yet verified. Tests: [tests/symlink_resolution.rs](../tests/symlink_resolution.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--no-D`: not yet implemented; alias for `--no-devices --no-specials`. Tests: [gaps.md](gaps.md). Source: —.
- `--numeric-ids`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--old-args`: parity with upstream not yet verified; disable modern arg-protection idiom. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--old-d`: parity with upstream not yet verified; alias for `--old-dirs`. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: —.
- `--old-dirs`: parity with upstream not yet verified; works like --dirs when talking to old rsync. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--open-noatime`: not yet implemented; not yet implemented. Tests: —. Source: —.
- `--outbuf`: parity with upstream not yet verified; set stdout buffering. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [bin/oc-rsync/src/main.rs](../bin/oc-rsync/src/main.rs).
- `--progress`: parity with upstream not yet verified. Tests: [tests/cli.rs#L309](../tests/cli.rs#L309). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--protocol`: parity with upstream not yet verified. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--relative`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--safe-links`: parity with upstream not yet verified. Tests: [tests/symlink_resolution.rs](../tests/symlink_resolution.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--secluded-args`: parity with upstream not yet verified. Tests: [tests/secluded_args.rs](../tests/secluded_args.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--server`: parity with upstream not yet verified; negotiates protocol version and codecs. Tests: [crates/protocol/tests/server.rs](../crates/protocol/tests/server.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--sockopts`: parity with upstream not yet verified; supports `SO_KEEPALIVE`, `SO_SNDBUF`, `SO_RCVBUF`, `TCP_NODELAY`, `SO_REUSEADDR`, `SO_BINDTODEVICE`, and `ip:ttl`/`ip:tos`/`ip:hoplimit`. Tests: [tests/sockopts.rs](../tests/sockopts.rs)<br>[crates/transport/tests/sockopts.rs](../crates/transport/tests/sockopts.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--specials`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--stats`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--stop-after`: parity with upstream not yet verified. Tests: [tests/timeout.rs](../tests/timeout.rs). Source: [crates/cli/src/options.rs](../crates/cli/src/options.rs)<br>[crates/engine/src/lib.rs](../crates/engine/src/lib.rs).
- `--stop-at`: parity with upstream not yet verified. Tests: [tests/timeout.rs](../tests/timeout.rs). Source: [crates/cli/src/options.rs](../crates/cli/src/options.rs)<br>[crates/engine/src/lib.rs](../crates/engine/src/lib.rs).
- `--super`: parity with upstream not yet verified; overrides `--fake-super`. Tests: [tests/cli.rs](../tests/cli.rs)<br>[crates/engine/tests/attrs.rs](../crates/engine/tests/attrs.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--temp-dir`: parity with upstream not yet verified; requires same filesystem for atomic rename. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--timeout`: parity with upstream not yet verified; idle and I/O timeout. Tests: [tests/timeout.rs](../tests/timeout.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--trust-sender`: parity with upstream not yet verified; no-op; always trusts sender. Tests: [tests/cli_flags.rs](../tests/cli_flags.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--update`: parity with upstream not yet verified. Tests: [crates/engine/tests/update.rs](../crates/engine/tests/update.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--usermap`: parity with upstream not yet verified; requires root or CAP_CHOWN. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--verbose`: parity with upstream not yet verified. Tests: [tests/cli.rs](../tests/cli.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
- `--xattrs`: parity with upstream not yet verified; requires `xattr` feature. Tests: [tests/local_sync_tree.rs](../tests/local_sync_tree.rs)<br>[tests/daemon_sync_attrs.rs](../tests/daemon_sync_attrs.rs). Source: [crates/cli/src/lib.rs](../crates/cli/src/lib.rs).
