# packaging/systemd/oc-rsyncd.conf
# Example configuration for oc-rsync when run under systemd

# Write daemon PID so watchdogs can track the service
pid file = /run/oc-rsyncd/oc-rsyncd.pid
# Global log file
log file = /var/log/oc-rsyncd/oc-rsyncd.log
# Exclusively lock to prevent multiple instances
lock file = /run/oc-rsyncd/oc-rsyncd.lock
# Credentials file for modules
secrets file = /etc/oc-rsyncd/oc-rsyncd.secrets
# Drop privileges and jail clients inside module paths
use chroot = yes
# Enforce numeric uid/gid mapping
numeric ids = yes

[data]
    path = /srv/oc-rsync/data
    comment = Example data module
    auth users = backup
    hosts allow = 192.0.2.0/24
    hosts deny = *
    use chroot = yes
