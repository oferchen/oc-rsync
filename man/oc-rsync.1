'\" t
.\" Automatically generated by Pandoc 3.1.3
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "" "" "" "" ""
.hy
.SH Command Line Interface
.PP
The \f[V]oc-rsync\f[R] binary aims to mirror the familiar
\f[V]rsync\f[R] experience.
An overview of project goals and features is available in the README,
and a high-level summary of CLI goals lives in the README\[cq]s CLI
section.
For a complete list of flags and their implementation status, see the
feature matrix, which is the authoritative reference for contributors.
The full \f[V]--help\f[R] output is captured in cli-help.txt and checked
in CI to match the binary.
.SS Usage
.IP
.nf
\f[C]
oc-rsync [OPTIONS] \[dq]<SRC>\[dq] \[dq]<DEST>\[dq]
\f[R]
.fi
.SS Examples
.IP \[bu] 2
Local directory sync:
.RS 2
.IP
.nf
\f[C]
oc-rsync \[dq]./src\[dq] \[dq]./backup\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Remote sync over SSH:
.RS 2
.IP
.nf
\f[C]
oc-rsync \[dq]./src\[dq] \[dq]user\[at]example.com:/var/www\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Dry run with statistics:
.RS 2
.IP
.nf
\f[C]
oc-rsync -n --stats \[dq]./src\[dq] \[dq]remote:/dst\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Sync using an explicit config file:
.RS 2
.IP
.nf
\f[C]
oc-rsync --config \[dq]./oc-rsync.toml\[dq] \[dq]./src\[dq] \[dq]remote:/dst\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Mirror with exclusions and deletions:
.RS 2
.IP
.nf
\f[C]
oc-rsync -a --delete --exclude \[aq].cache/\[aq] \[dq]./src/\[dq] \[dq]./mirror/\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Incremental backup using hard links:
.RS 2
.IP
.nf
\f[C]
oc-rsync -a --link-dest=\[dq]../prev\[dq] --compare-dest=\[dq]../base\[dq] \[dq]./src/\[dq] \[dq]./snapshot/\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Tune delta block size:
.RS 2
.IP
.nf
\f[C]
oc-rsync -B 65536 \[dq]./src\[dq] \[dq]remote:/dst\[dq]
\f[R]
.fi
.RE
.IP \[bu] 2
Change ownership during transfer (requires root):
.RS 2
.IP
.nf
\f[C]
sudo oc-rsync --chown=0:0 ./src/ remote:/dst/
\f[R]
.fi
.RE
.IP \[bu] 2
Show version:
.RS 2
.IP
.nf
\f[C]
oc-rsync --version
\f[R]
.fi
.PP
which prints three lines:
.IP
.nf
\f[C]
oc-rsync <pkg-version> (protocol <protocol>)
rsync <upstream-version>
<build-revision> <official|unofficial>
\f[R]
.fi
.RE
.IP \[bu] 2
Probe a daemon\[cq]s protocol support:
.RS 2
.IP
.nf
\f[C]
oc-rsync --probe 127.0.0.1:873
\f[R]
.fi
.RE
.SS Trailing slash semantics
.PP
Just like \f[V]rsync\f[R], adding a trailing slash to the source path
changes what is copied:
.IP \[bu] 2
\f[V]oc-rsync \[dq]src/\[dq] \[dq]dest/\[dq]\f[R] copies the
\f[I]contents\f[R] of \f[V]src\f[R] into \f[V]dest\f[R].
.IP \[bu] 2
\f[V]oc-rsync \[dq]src\[dq] \[dq]dest/\[dq]\f[R] creates a
\f[V]dest/src\f[R] directory containing the original files.
.IP \[bu] 2
\f[V]oc-rsync \[dq]remote:/src/\[dq] \[dq]local/\[dq]\f[R] pulls the
contents of \f[V]/src\f[R] from the remote host into \f[V]local\f[R].
.SS Options
.PP
The table below mirrors the full \f[V]rsync(1)\f[R] flag set.
Defaults show the behavior of stock rsync; \f[V]off\f[R] means the flag
is disabled unless specified.
Each entry links to the corresponding row in \f[V]feature_matrix.md\f[R]
for implementation status and notes.
.PP
.TS
tab(@);
lw(11.4n) lw(9.8n) lw(14.7n) lw(21.2n) lw(13.0n).
T{
Short
T}@T{
Long
T}@T{
Default
T}@T{
Interactions
T}@T{
Matrix
T}
_
T{
\f[V]-8\f[R]
T}@T{
\f[V]--8-bit-output\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-A\f[R]
T}@T{
\f[V]--acls\f[R]
T}@T{
off
T}@T{
requires \f[V]acl\f[R] feature
T}@T{
matrix
T}
T{
T}@T{
\f[V]--address\f[R]
T}@T{
0.0.0.0
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--append\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--append-verify\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-a\f[R]
T}@T{
\f[V]--archive\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-U\f[R]
T}@T{
\f[V]--atimes\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-b\f[R]
T}@T{
\f[V]--backup\f[R]
T}@T{
off
T}@T{
uses \f[V]\[ti]\f[R] suffix without \f[V]--backup-dir\f[R]
T}@T{
matrix
T}
T{
T}@T{
\f[V]--backup-dir\f[R]
T}@T{
off
T}@T{
implies \f[V]--backup\f[R]
T}@T{
matrix
T}
T{
\f[V]-B\f[R]
T}@T{
\f[V]--block-size\f[R]
T}@T{
auto
T}@T{
controls delta block size
T}@T{
matrix
T}
T{
T}@T{
\f[V]--blocking-io\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--bwlimit\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--cc\f[R]
T}@T{
off
T}@T{
alias for \f[V]--checksum-choice\f[R]
T}@T{
matrix
T}
T{
\f[V]-c\f[R]
T}@T{
\f[V]--checksum\f[R]
T}@T{
off
T}@T{
strong hashes: MD5 (default), SHA-1
T}@T{
matrix
T}
T{
T}@T{
\f[V]--checksum-choice\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--checksum-seed\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--chmod\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--chown\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--compare-dest\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-z\f[R]
T}@T{
\f[V]--compress\f[R]
T}@T{
off
T}@T{
negotiates zstd or zlib
T}@T{
matrix
T}
T{
T}@T{
\f[V]--compress-choice\f[R]
T}@T{
auto
T}@T{
supports zstd and zlib
T}@T{
matrix
T}
T{
T}@T{
\f[V]--compress-level\f[R]
T}@T{
auto
T}@T{
applies to zlib or zstd
T}@T{
matrix
T}
T{
T}@T{
\f[V]--zc\f[R]
T}@T{
off
T}@T{
alias for \f[V]--compress-choice\f[R]
T}@T{
matrix
T}
T{
T}@T{
\f[V]--zl\f[R]
T}@T{
off
T}@T{
alias for \f[V]--compress-level\f[R]
T}@T{
matrix
T}
T{
T}@T{
\f[V]--contimeout\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--copy-as\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--copy-dest\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--copy-devices\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-k\f[R]
T}@T{
\f[V]--copy-dirlinks\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-L\f[R]
T}@T{
\f[V]--copy-links\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--copy-unsafe-links\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-N\f[R]
T}@T{
\f[V]--crtimes\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-C\f[R]
T}@T{
\f[V]--cvs-exclude\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--daemon\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--debug\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--del\f[R]
T}@T{
off
T}@T{
alias for \f[V]--delete-during\f[R]
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delay-updates\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete-after\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete-before\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete-delay\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete-during\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete-excluded\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--delete-missing-args\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--devices\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-d\f[R]
T}@T{
\f[V]--dirs\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-n\f[R]
T}@T{
\f[V]--dry-run\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--early-input\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--exclude\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--exclude-from\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-E\f[R]
T}@T{
\f[V]--executability\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--existing\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--fake-super\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--files-from\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-f\f[R]
T}@T{
\f[V]--filter\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--force\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-0\f[R]
T}@T{
\f[V]--from0\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--fsync\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-y\f[R]
T}@T{
\f[V]--fuzzy\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-g\f[R]
T}@T{
\f[V]--group\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--groupmap\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-H\f[R]
T}@T{
\f[V]--hard-links\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-h (*)\f[R]
T}@T{
\f[V]--help\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--human-readable\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--iconv\f[R]
T}@T{
off
T}@T{
request charset conversion of filenames
T}@T{
matrix
T}
T{
T}@T{
\f[V]--ignore-errors\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--ignore-existing\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--ignore-missing-args\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-I\f[R]
T}@T{
\f[V]--ignore-times\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--include\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--include-from\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--info\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--inplace\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-4\f[R]
T}@T{
\f[V]--ipv4\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-6\f[R]
T}@T{
\f[V]--ipv6\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-i\f[R]
T}@T{
\f[V]--itemize-changes\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-K\f[R]
T}@T{
\f[V]--keep-dirlinks\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--link-dest\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-l\f[R]
T}@T{
\f[V]--links\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--list-only\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--log-file\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--log-file-format\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--max-alloc\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--max-delete\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--max-size\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--min-size\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--mkpath\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-\[at]\f[R]
T}@T{
\f[V]--modify-window\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--munge-links\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--no-D\f[R]
T}@T{
off
T}@T{
alias for \f[V]--no-devices\f[R] and \f[V]--no-specials\f[R]
T}@T{
matrix
T}
T{
T}@T{
\f[V]--no-OPTION\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--no-implied-dirs\f[R]
T}@T{
off
T}@T{
skip creating implicit ancestor directories
T}@T{
matrix
T}
T{
T}@T{
\f[V]--no-motd\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--numeric-ids\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--old-args\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--old-d\f[R]
T}@T{
off
T}@T{
alias for \f[V]--old-dirs\f[R]
T}@T{
matrix
T}
T{
T}@T{
\f[V]--old-dirs\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-O\f[R]
T}@T{
\f[V]--omit-dir-times\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-J\f[R]
T}@T{
\f[V]--omit-link-times\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-x\f[R]
T}@T{
\f[V]--one-file-system\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--only-write-batch\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--open-noatime\f[R]
T}@T{
off
T}@T{
avoid changing atime on supported platforms
T}@T{
matrix
T}
T{
T}@T{
\f[V]--out-format\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--outbuf\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-o\f[R]
T}@T{
\f[V]--owner\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--partial\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--partial-dir\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--password-file\f[R]
T}@T{
\[em]
T}@T{
T}@T{
matrix
T}
T{
\f[V]-p\f[R]
T}@T{
\f[V]--perms\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--port\f[R]
T}@T{
873
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--preallocate\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--progress\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--protocol\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-m\f[R]
T}@T{
\f[V]--prune-empty-dirs\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-q\f[R]
T}@T{
\f[V]--quiet\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--read-batch\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-r\f[R]
T}@T{
\f[V]--recursive\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-R\f[R]
T}@T{
\f[V]--relative\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-M\f[R]
T}@T{
\f[V]--remote-option\f[R]
T}@T{
off
T}@T{
forward option to remote side only; repeat for multiple
T}@T{
matrix
T}
T{
T}@T{
\f[V]--remove-source-files\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-e\f[R]
T}@T{
\f[V]--rsh\f[R]
T}@T{
ssh
T}@T{
negotiation incomplete; lacks full command parsing and environment
handshake
T}@T{
matrix
T}
T{
T}@T{
\f[V]--rsync-path\f[R]
T}@T{
\[em]
T}@T{
requires \f[V]--rsh\f[R]; remote path negotiation incomplete
T}@T{
matrix
T}
T{
T}@T{
\f[V]--safe-links\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-s\f[R]
T}@T{
\f[V]--secluded-args\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--secrets-file\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--server\f[R]
T}@T{
off
T}@T{
negotiates protocol version and codecs
T}@T{
matrix
T}
T{
T}@T{
\f[V]--size-only\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--skip-compress\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--sockopts\f[R]
T}@T{
off
T}@T{
comma-separated socket options, e.g.\ \f[V]SO_KEEPALIVE\f[R] or
\f[V]ip:ttl=64\f[R]
T}@T{
matrix
T}
T{
\f[V]-S\f[R]
T}@T{
\f[V]--sparse\f[R]
T}@T{
off
T}@T{
creates holes for long zero runs
T}@T{
matrix
T}
T{
T}@T{
\f[V]--specials\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--stats\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--stderr\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--stop-after\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--stop-at\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--suffix\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--super\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-T\f[R]
T}@T{
\f[V]--temp-dir\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--timeout\f[R]
T}@T{
off
T}@T{
set idle and I/O timeout in seconds
T}@T{
matrix
T}
T{
\f[V]-t\f[R]
T}@T{
\f[V]--times\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--trust-sender\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-u\f[R]
T}@T{
\f[V]--update\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--usermap\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-v\f[R]
T}@T{
\f[V]--verbose\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-V\f[R]
T}@T{
\f[V]--version\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-W\f[R]
T}@T{
\f[V]--whole-file\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--write-batch\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
T}@T{
\f[V]--write-devices\f[R]
T}@T{
off
T}@T{
T}@T{
matrix
T}
T{
\f[V]-X\f[R]
T}@T{
\f[V]--xattrs\f[R]
T}@T{
off
T}@T{
requires \f[V]xattr\f[R] feature
T}@T{
matrix
T}
.TE
.PP
Implementation details for each flag live in the feature matrix, the
authoritative reference for flag coverage.
.SS Format escapes
.PP
\f[V]oc-rsync\f[R] understands a small set of escapes in
\f[V]--out-format\f[R] and \f[V]--log-file-format\f[R] strings:
.PP
.TS
tab(@);
l l.
T{
Escape
T}@T{
Meaning
T}
_
T{
\f[V]%n\f[R]
T}@T{
file name
T}
T{
\f[V]%L\f[R]
T}@T{
symlink target (prefixed by \f[V]->\f[R])
T}
T{
\f[V]%i\f[R]
T}@T{
itemized change string
T}
T{
\f[V]%o\f[R]
T}@T{
operation (\f[V]send\f[R], \f[V]recv\f[R], \f[V]del.\f[R])
T}
T{
\f[V]%%\f[R]
T}@T{
literal percent sign
T}
T{
\f[V]\[rs]\[rs]a\f[R]
T}@T{
bell
T}
T{
\f[V]\[rs]\[rs]b\f[R]
T}@T{
backspace
T}
T{
\f[V]\[rs]\[rs]e\f[R]
T}@T{
escape
T}
T{
\f[V]\[rs]\[rs]f\f[R]
T}@T{
form feed
T}
T{
\f[V]\[rs]\[rs]n\f[R]
T}@T{
newline
T}
T{
\f[V]\[rs]\[rs]r\f[R]
T}@T{
carriage return
T}
T{
\f[V]\[rs]\[rs]t\f[R]
T}@T{
tab
T}
T{
\f[V]\[rs]\[rs]v\f[R]
T}@T{
vertical tab
T}
T{
\f[V]\[rs]\[rs]\f[R]
T}@T{
backslash
T}
T{
\f[V]\[rs]\[rs]0NNN\f[R]
T}@T{
octal byte value
T}
T{
\f[V]\[rs]\[rs]xHH\f[R]
T}@T{
hex byte value
T}
.TE
.SS Permission tweaks with \f[V]--chmod\f[R]
.PP
The \f[V]--chmod=CHMOD\f[R] option adjusts permission bits on
transferred files.
The syntax mirrors \f[V]chmod\f[R] and supports comma-separated rules.
Prefix a rule with \f[V]D\f[R] or \f[V]F\f[R] to limit it to directories
or files respectively.
.PP
Examples:
.IP \[bu] 2
\f[V]--chmod=Du+rwx\f[R] adds user read/write/execute for directories.
.IP \[bu] 2
\f[V]--chmod=F644\f[R] forces regular files to mode \f[V]644\f[R].
.IP \[bu] 2
\f[V]--chmod=ug=rwX,o=rX\f[R] sets user and group read/write and
conditional execute while giving others read access.
.PP
Multiple \f[V]--chmod\f[R] flags accumulate.
.SS Remote shell
.PP
The \f[V]--rsh\f[R] (\f[V]-e\f[R]) flag accepts an arbitrary shell
command.
The command string is parsed using shell-style quoting, allowing
multiple arguments and embedded quotes much like GNU \f[V]rsync\f[R].
Leading \f[V]VAR=value\f[R] tokens set environment variables for the
spawned command.
For example:
.IP
.nf
\f[C]
oc-rsync -e \[aq]RUST_LOG=debug ssh -p 2222 -o \[dq]StrictHostKeyChecking=no\[dq]\[aq] \[dq]src\[dq] \[dq]dst\[dq]
\f[R]
.fi
.PP
During the connection handshake \f[V]oc-rsync\f[R] also forwards any
environment variables from its own process whose names begin with
\f[V]RSYNC_\f[R], mirroring \f[V]rsync\f[R]\[cq]s environment
propagation behavior.
.SS Configuration precedence
.IP "1." 3
Command-line flags
.IP "2." 3
Environment variables (prefixed with \f[V]OC_RSYNC_\f[R])
.IP "3." 3
Configuration file provided via \f[V]--config\f[R]
.IP "4." 3
Built-in defaults
.PP
No configuration file is loaded unless \f[V]--config\f[R] is supplied.
Settings specified earlier in the list override later sources.
.SS Filters
.PP
\f[V]oc-rsync\f[R] supports include and exclude rules using the same
syntax as \f[V]rsync\f[R].
Rules can be supplied on the command line with \f[V]--filter\f[R] or
placed in \f[V].rsync-filter\f[R] files located throughout the source
tree.
When walking directories the tool automatically loads any
\f[V].rsync-filter\f[R] files and merges their rules with those from
parent directories.
Rules in deeper directories take precedence over rules defined higher
up.
.SS Example
.IP
.nf
\f[C]
project/
├── .rsync-filter      # contains: - *.tmp
└── logs/
    ├── .rsync-filter  # contains: + keep.tmp
    ├── keep.tmp
    └── other.tmp
\f[R]
.fi
.PP
In this layout, \f[V]keep.tmp\f[R] is included because the rule in
\f[V]logs/.rsync-filter\f[R] overrides the root exclusion.
The file \f[V]other.tmp\f[R] remains excluded.
